<ion-header translucent class="hide-lg hide-xl">
  <ion-toolbar fixed color="primary">
    <ion-buttons slot="start">
      <ion-menu-button autoHide="false"></ion-menu-button>
      <ion-title>Quarantine Help</ion-title>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-item class="topbar">
    <ion-text class="ion-padding-vertical">
      <h3 size="large" *ngIf="requestedData.type=='G'">
        <ion-icon name="cart-outline"></ion-icon> Grocery Request
      </h3>
      <h3 *ngIf="requestedData.type=='M'">
        <ion-icon size="large" name="medkit-outline"></ion-icon> Medicine Request
      </h3>
    </ion-text>
  </ion-item>

  <ion-grid>
    <ion-row class="bottom-border">
      <ion-col size="4">
        <ion-icon class="size" name="calendar-outline"></ion-icon>
        <ion-text>
          <h5 class="deadline"> Deadline </h5>
        </ion-text>
      </ion-col>
      <ion-col size="4"></ion-col>
      <ion-col size="4">
        <ion-text color="danger">
          <h1> {{ requestedData.deadline | date:'shortTime' }} </h1>
          <h5> {{ requestedData.deadline | date }} </h5>
        </ion-text>
      </ion-col>
    </ion-row>
    <ion-row class="bottom-border">
      <ion-col size="4">
        <ion-text>
          <h5> Created </h5>
        </ion-text>
      </ion-col>
      <ion-col size="2">
      </ion-col>
      <ion-col size="6">
        <ion-text>
          <h5>
            {{ requestedData.createdAt | date:'shortTime' }}
            , {{ requestedData.createdAt | date }}
          </h5>
        </ion-text>
      </ion-col>
    </ion-row>
    <ion-row class="bottom-border">
      <ion-col size="4">
        <ion-text>
          <h5> Status </h5>
        </ion-text>
      </ion-col>
      <ion-col size="3">
      </ion-col>
      <ion-col size="5">
        <ion-text>
          <h5>
            <span class="transit" [ngSwitch]="requestedData.status">
              <span *ngSwitchCase="'P'"> Pending </span>
              <span *ngSwitchCase="'T'"> Transit </span>
              <span *ngSwitchCase="'F'"> Finished </span>
              <span *ngSwitchCase="'C'"> Cancelled </span>
              <span *ngSwitchDefault> Status not available </span>
            </span>
            <ion-icon size="large" name="bicycle-outline"></ion-icon>
          </h5>
        </ion-text>
      </ion-col>
    </ion-row>
    <ion-row class="bottom-border" *ngIf="!isVolunteer">
      <ion-col size="5">
        <ion-text>
          <h5> Assignee Details </h5>
        </ion-text>
      </ion-col>
      <ion-col size="1">
      </ion-col>
      <ion-col size="6">
        <ion-text>
          <h5>
            <strong>
              <ion-icon name="person-circle-outline"></ion-icon> {{ assigneeDetails.user.firstName }}
              {{ assigneeDetails.user.lastName }}
            </strong>
            <p>
              <ion-icon name="call-outline"></ion-icon> {{ assigneeDetails.phone }}
            </p>
            <p>
              <ion-icon name="location-outline"></ion-icon>
              {{ assigneeDetails.firstLineOfAddress }}, {{ assigneeDetails.secondLineOfAddress }},
              {{ assigneeDetails.city }}, {{ assigneeDetails.country }}
            </p>
            <p>
              <ion-icon name="locate-outline"></ion-icon> {{ assigneeDetails.postCode }}
            </p>
          </h5>
        </ion-text>
      </ion-col>
    </ion-row>
    <ion-item [ngClass]="{ verticalspace : isVolunteer === true }">
      <ion-text class="description ion-padding">
        {{ requestedData.description }}
      </ion-text>
    </ion-item>
    <ion-item *ngIf="requestedData.status === 'P' || requestedData.status === 'T'">
      <ion-button (click)="cancelRequest()" color="light">Cancel</ion-button>
      <ion-button (click)="resolveRequest()" color="dark" slot="end">Resolve</ion-button>
    </ion-item>
  </ion-grid>
</ion-content>